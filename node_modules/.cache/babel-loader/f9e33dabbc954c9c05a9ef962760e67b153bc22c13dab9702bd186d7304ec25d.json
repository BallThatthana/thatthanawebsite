{"ast":null,"code":"import { collection, setDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nlet postCollection = collection(db, \"posts\");\nconst PostModule = {\n  state: {\n    food: '',\n    post: '',\n    userId: ''\n  },\n  mutations: {\n    setFood(state, payload) {\n      state.food = payload;\n    },\n    setUserId(state, value) {\n      state.userId = value;\n    }\n  },\n  actions: {\n    async postFood({\n      commit,\n      rootGetters\n    }, food) {\n      try {\n        const user = rootGetters['user'];\n        const post = {\n          food: food,\n          userId: state.userId,\n          timestamp: new Date().getTime()\n        };\n        setDoc(postCollection);\n        console.log(post, 'Post added successfully');\n        // reset the food input field\n        this.food = '';\n        // update the food state in Vuex\n        commit('setFood');\n      } catch (error) {\n        console.error('Error adding post: ', error);\n      }\n    },\n    getters: {\n      food: state => state.food\n    }\n  }\n};\nexport default PostModule;","map":{"version":3,"names":["collection","setDoc","db","postCollection","PostModule","state","food","post","userId","mutations","setFood","payload","setUserId","value","actions","postFood","commit","rootGetters","user","timestamp","Date","getTime","console","log","error","getters"],"sources":["C:/Users/Ball/OneDrive/Documents/Web dev/own-website/src/Store/post/index.js"],"sourcesContent":["import { collection, setDoc } from 'firebase/firestore';\r\nimport { db } from '../../firebase';\r\n\r\nlet postCollection = collection(db,\"posts\")\r\n\r\nconst PostModule = {\r\n    state:{ \r\n        food:'',\r\n        post:'',\r\n        userId:''\r\n    },\r\n    mutations:{\r\n        setFood(state,payload){\r\n            state.food = payload\r\n        },\r\n        setUserId(state, value) {\r\n            state.userId = value\r\n        },\r\n    },\r\n    actions:{\r\n        async postFood({ commit, rootGetters }, food) {\r\n            try {\r\n                const user = rootGetters['user']\r\n                const post = {\r\n                    food: food,\r\n                    userId: state.userId,\r\n                    timestamp: new Date().getTime()\r\n                };\r\n                setDoc(postCollection)\r\n                 console.log(post,'Post added successfully');\r\n                    // reset the food input field\r\n                    this.food = '';\r\n                        // update the food state in Vuex\r\n                    commit('setFood', );\r\n\r\n            } catch(error){\r\n                console.error('Error adding post: ', error);\r\n            }\r\n        },\r\n        getters:{\r\n            food: (state) => state.food,\r\n        }\r\n    }\r\n}\r\n\r\nexport default PostModule;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACvD,SAASC,EAAE,QAAQ,gBAAgB;AAEnC,IAAIC,cAAc,GAAGH,UAAU,CAACE,EAAE,EAAC,OAAO,CAAC;AAE3C,MAAME,UAAU,GAAG;EACfC,KAAK,EAAC;IACFC,IAAI,EAAC,EAAE;IACPC,IAAI,EAAC,EAAE;IACPC,MAAM,EAAC;EACX,CAAC;EACDC,SAAS,EAAC;IACNC,OAAOA,CAACL,KAAK,EAACM,OAAO,EAAC;MAClBN,KAAK,CAACC,IAAI,GAAGK,OAAO;IACxB,CAAC;IACDC,SAASA,CAACP,KAAK,EAAEQ,KAAK,EAAE;MACpBR,KAAK,CAACG,MAAM,GAAGK,KAAK;IACxB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,QAAQA,CAAC;MAAEC,MAAM;MAAEC;IAAY,CAAC,EAAEX,IAAI,EAAE;MAC1C,IAAI;QACA,MAAMY,IAAI,GAAGD,WAAW,CAAC,MAAM,CAAC;QAChC,MAAMV,IAAI,GAAG;UACTD,IAAI,EAAEA,IAAI;UACVE,MAAM,EAAEH,KAAK,CAACG,MAAM;UACpBW,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,OAAO;QACjC,CAAC;QACDpB,MAAM,CAACE,cAAc,CAAC;QACrBmB,OAAO,CAACC,GAAG,CAAChB,IAAI,EAAC,yBAAyB,CAAC;QACxC;QACA,IAAI,CAACD,IAAI,GAAG,EAAE;QACV;QACJU,MAAM,CAAC,SAAS,CAAG;MAE3B,CAAC,CAAC,OAAMQ,KAAK,EAAC;QACVF,OAAO,CAACE,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC/C;IACJ,CAAC;IACDC,OAAO,EAAC;MACJnB,IAAI,EAAGD,KAAK,IAAKA,KAAK,CAACC;IAC3B;EACJ;AACJ,CAAC;AAED,eAAeF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}