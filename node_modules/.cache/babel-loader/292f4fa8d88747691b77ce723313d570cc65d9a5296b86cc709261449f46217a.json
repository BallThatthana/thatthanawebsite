{"ast":null,"code":"import { collection, serverTimestamp, setDoc, doc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nlet postCollection = collection(db, \"posts\");\nconst PostModule = {\n  state: {\n    food: '',\n    userId: ''\n  },\n  mutations: {\n    setFood(state, payload) {\n      state.food = payload;\n    },\n    setUserId(state, value) {\n      state.userId = value;\n    }\n  },\n  actions: {\n    async postFood({\n      commit,\n      rootGetters\n    }, payload) {\n      try {\n        const user = rootGetters['getUserData'];\n        const newArticle = doc(postCollection);\n        await setDoc(newArticle, {\n          timestamp: serverTimestamp(),\n          owner: {\n            uid: user.uid\n          },\n          ...payload\n        });\n        console.log(post, 'Post added successfully');\n        // reset the food input field\n        this.food = '';\n        // update the food state in Vuex\n        commit('setFood');\n      } catch (error) {\n        console.error('Error adding post: ', error);\n      }\n    },\n    getters: {\n      food: state => state.food\n    }\n  }\n};\nexport default PostModule;","map":{"version":3,"names":["collection","serverTimestamp","setDoc","doc","db","postCollection","PostModule","state","food","userId","mutations","setFood","payload","setUserId","value","actions","postFood","commit","rootGetters","user","newArticle","timestamp","owner","uid","console","log","post","error","getters"],"sources":["C:/Users/Ball/OneDrive/Documents/Web dev/own-website/src/Store/post/index.js"],"sourcesContent":["import { collection, serverTimestamp, setDoc, doc } from 'firebase/firestore';\r\nimport { db } from '../../firebase';\r\n\r\nlet postCollection = collection(db,\"posts\")\r\n\r\nconst PostModule = {\r\n    state:{ \r\n        food:'',\r\n        userId:''\r\n    },\r\n    mutations:{\r\n        setFood(state,payload){\r\n            state.food = payload\r\n        },\r\n        setUserId(state, value) {\r\n            state.userId = value\r\n        },\r\n    },\r\n    actions:{\r\n        async postFood({ commit, rootGetters }, payload) {\r\n            try {\r\n                const user = rootGetters['getUserData']\r\n                const newArticle = doc(postCollection)\r\n                await setDoc(newArticle,{\r\n                    timestamp: serverTimestamp(),\r\n                    owner: {\r\n                        uid: user.uid\r\n                    },\r\n                    ...payload\r\n                })\r\n                 console.log(post,'Post added successfully');\r\n                    // reset the food input field\r\n                    this.food = '';\r\n                        // update the food state in Vuex\r\n                    commit('setFood', );\r\n\r\n            } catch(error){\r\n                console.error('Error adding post: ', error);\r\n            }\r\n        },\r\n        getters:{\r\n            food: (state) => state.food,\r\n        }\r\n    }\r\n}\r\n\r\nexport default PostModule;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,eAAe,EAAEC,MAAM,EAAEC,GAAG,QAAQ,oBAAoB;AAC7E,SAASC,EAAE,QAAQ,gBAAgB;AAEnC,IAAIC,cAAc,GAAGL,UAAU,CAACI,EAAE,EAAC,OAAO,CAAC;AAE3C,MAAME,UAAU,GAAG;EACfC,KAAK,EAAC;IACFC,IAAI,EAAC,EAAE;IACPC,MAAM,EAAC;EACX,CAAC;EACDC,SAAS,EAAC;IACNC,OAAOA,CAACJ,KAAK,EAACK,OAAO,EAAC;MAClBL,KAAK,CAACC,IAAI,GAAGI,OAAO;IACxB,CAAC;IACDC,SAASA,CAACN,KAAK,EAAEO,KAAK,EAAE;MACpBP,KAAK,CAACE,MAAM,GAAGK,KAAK;IACxB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,QAAQA,CAAC;MAAEC,MAAM;MAAEC;IAAY,CAAC,EAAEN,OAAO,EAAE;MAC7C,IAAI;QACA,MAAMO,IAAI,GAAGD,WAAW,CAAC,aAAa,CAAC;QACvC,MAAME,UAAU,GAAGjB,GAAG,CAACE,cAAc,CAAC;QACtC,MAAMH,MAAM,CAACkB,UAAU,EAAC;UACpBC,SAAS,EAAEpB,eAAe,EAAE;UAC5BqB,KAAK,EAAE;YACHC,GAAG,EAAEJ,IAAI,CAACI;UACd,CAAC;UACD,GAAGX;QACP,CAAC,CAAC;QACDY,OAAO,CAACC,GAAG,CAACC,IAAI,EAAC,yBAAyB,CAAC;QACxC;QACA,IAAI,CAAClB,IAAI,GAAG,EAAE;QACV;QACJS,MAAM,CAAC,SAAS,CAAG;MAE3B,CAAC,CAAC,OAAMU,KAAK,EAAC;QACVH,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC/C;IACJ,CAAC;IACDC,OAAO,EAAC;MACJpB,IAAI,EAAGD,KAAK,IAAKA,KAAK,CAACC;IAC3B;EACJ;AACJ,CAAC;AAED,eAAeF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}