{"ast":null,"code":"import { collection, addDoc } from 'firebase/firestore';\nimport { db } from '../../firebase';\nconst PostModule = {\n  state: {\n    food: '',\n    post: '',\n    userId: ''\n  },\n  mutations: {\n    setFood(state, payload) {\n      state.food = payload;\n    },\n    setUserId(state, value) {\n      state.userId = value;\n    }\n  },\n  actions: {\n    postFood({\n      state,\n      commit\n    }) {\n      const post = {\n        food: state.food,\n        userId: state.userId,\n        timestamp: new Date().getTime()\n      };\n      addDoc(collection(db, 'posts'), post).then(() => {\n        console.log(post, 'Post added successfully');\n        // reset the food input field\n        this.food = '';\n        // update the food state in Vuex\n        commit('setFood', '');\n      }).catch(error => {\n        console.error('Error adding post: ', error);\n      });\n    }\n  },\n  getters: {\n    food: state => state.food\n  }\n};\nexport default PostModule;","map":{"version":3,"names":["collection","addDoc","db","PostModule","state","food","post","userId","mutations","setFood","payload","setUserId","value","actions","postFood","commit","timestamp","Date","getTime","then","console","log","catch","error","getters"],"sources":["C:/Users/Ball/OneDrive/Documents/Web dev/own-website/src/Store/post/index.js"],"sourcesContent":["import { collection, addDoc } from 'firebase/firestore';\r\nimport { db } from '../../firebase';\r\n\r\nconst PostModule = {\r\n    state:{ \r\n        food:'',\r\n        post:'',\r\n        userId:''\r\n    },\r\n    mutations:{\r\n        setFood(state,payload){\r\n            state.food = payload\r\n        },\r\n        setUserId(state, value) {\r\n            state.userId = value\r\n        },\r\n    },\r\n    actions:{\r\n        postFood({ state, commit }) {\r\n            const post = {\r\n                food: state.food,\r\n                userId: state.userId,\r\n                timestamp: new Date().getTime()\r\n            };\r\n            addDoc(collection(db, 'posts'), post)\r\n            .then(() => {\r\n             console.log(post,'Post added successfully');\r\n                // reset the food input field\r\n            this.food = '';\r\n                // update the food state in Vuex\r\n            commit('setFood', '');\r\n        })\r\n        .catch((error) => {\r\n            console.error('Error adding post: ', error);\r\n            });\r\n        }\r\n    },\r\n    getters:{\r\n        food: (state) => state.food,\r\n    }\r\n}\r\n\r\nexport default PostModule;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACvD,SAASC,EAAE,QAAQ,gBAAgB;AAEnC,MAAMC,UAAU,GAAG;EACfC,KAAK,EAAC;IACFC,IAAI,EAAC,EAAE;IACPC,IAAI,EAAC,EAAE;IACPC,MAAM,EAAC;EACX,CAAC;EACDC,SAAS,EAAC;IACNC,OAAOA,CAACL,KAAK,EAACM,OAAO,EAAC;MAClBN,KAAK,CAACC,IAAI,GAAGK,OAAO;IACxB,CAAC;IACDC,SAASA,CAACP,KAAK,EAAEQ,KAAK,EAAE;MACpBR,KAAK,CAACG,MAAM,GAAGK,KAAK;IACxB;EACJ,CAAC;EACDC,OAAO,EAAC;IACJC,QAAQA,CAAC;MAAEV,KAAK;MAAEW;IAAO,CAAC,EAAE;MACxB,MAAMT,IAAI,GAAG;QACTD,IAAI,EAAED,KAAK,CAACC,IAAI;QAChBE,MAAM,EAAEH,KAAK,CAACG,MAAM;QACpBS,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,OAAO;MACjC,CAAC;MACDjB,MAAM,CAACD,UAAU,CAACE,EAAE,EAAE,OAAO,CAAC,EAAEI,IAAI,CAAC,CACpCa,IAAI,CAAC,MAAM;QACXC,OAAO,CAACC,GAAG,CAACf,IAAI,EAAC,yBAAyB,CAAC;QACxC;QACJ,IAAI,CAACD,IAAI,GAAG,EAAE;QACV;QACJU,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;MACzB,CAAC,CAAC,CACDO,KAAK,CAAEC,KAAK,IAAK;QACdH,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,CAAC,CAAC;IACN;EACJ,CAAC;EACDC,OAAO,EAAC;IACJnB,IAAI,EAAGD,KAAK,IAAKA,KAAK,CAACC;EAC3B;AACJ,CAAC;AAED,eAAeF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}